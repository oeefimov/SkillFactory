/*
Пояснения по выбору признаков

Первая группа признаков - основные. Они позволят провести количественный анализ по полу, возрасту, 
типу (персона или организация), категории, теме работы и прочим интересным вещам.

Вторая группа признаков - условия зарождения будущего лауреата. Признаки описывают экономические и 
географические условия города и страны, в которой родился лауреат.
Ввиду того, что подавляющее большинство лауреатов из Америки, в географические признаки добавлен штат (birth_terr).
Для анализа исторических условий зарождения лауреата добавлены признаки со старым городом и старой страной,
в которых лауреат родился, но которые потом изменили названия либо отошли к другому государству (например,
был Кенигсберг в Пруссии, стал Калининград в России)

Третья группа признаков - условия окончания жизни лауреата. В отличие от условий рождения лауреата,
экономические и географические тонкости в них не требуются. В условиях проведения старости проверяется,
много ли в стране моря, каков ВВП страны и каково население города и страны.

Четвертая группа признаков - условия работы, позволившие достичь нобелевской премии.
Ввиду того, что некоторые лауреаты одновременно работали в нескольких организациях (но число их не более 3),
все возможные организации вытянуты в вширь. То есть, есть признаки для организации №1, для №2 и №3.
Это позволит добиться уникальности сочетания Год+Категория+Лауреат.
Некоторые организации изменили названия, расщепились на отдельные интституты или, напротив, слились с другими.
Для анализа преемственности и истинного возраста учреждений, в признаки включены как название организации
на момент получения премии, так и новое название, объединяющее один или несколько институтов (например, 
институты Кайзера Вильгельма для разных наук превратились в отделения института Макса Планка).
В экономические признаки для организаций включены только ВВП и население страны/города. 
Географические признаки - только город, страна, штат, регион, континент.

Необходимость тех или иных признаков зависит от поставленной перед data-scientist задачей. 
В предложенной структуре учитывается максимальный спектр задач: и количественный анализ, 
и экономический, и географический, и исторический. Удалить же лишние столбцы можно в любой момент.

*/


CREATE TABLE public.laureat
(
--Основные признаки
    laureat_id integer NOT NULL,                       --ключ
    laureat_name NOT NULL,                             --для анализа не нужно, но для составления отчета по анализу пригодится
    year integer NOT NULL,                             --для анализа присуждения премий по годам и группировки соавторов
    category character varying(100) NOT NULL,          --для анализа присуждения премий по номинациям и группировки соавторов
    prize character varying(1000) NOT NULL,            --для анализа по типу премий
    motivation character varying(2000) NOT NULL,       --для анализа текста и выявления тенденций поощряемых тем 
    "isOrganization" boolean NOT NULL,                 --для различения типов лауреатов в премии мира
    share integer NOT NULL,                            --для анализа коллективности (показывает знаменатель)
    "isMale" boolean,                                  --для анализа по полу

--Признаки для анализа условий, в которых рождается и проводит детство будущий лауреат
    birth_date date,                                   --для анализа по возрасту
    birth_city_id integer,                             --для различения городов с одинаковым названием и быстрой группировки
    birth_city character varying(1000),                --для анализа по месту рождения
    birth_terr character varying(100),                 --для анализа по месту рождения (для лауреатов из США - анализ штатов)
    birth_country_id integer,                          --для быстрой группировки
    birth_country character varying(1000),             --для анализа по месту рождения
    birth_city_old character varying(1000),            --для анализа по истории и политической нестабильности
    birth_country_old character varying(1000),         --для анализа по истории и политической нестабильности
    birth_city_population integer,                     --для анализа по условиям появления на свет лауреата
    birth_city_latitude numeric(5,2),                  --для анализа по условиям появления на свет лауреата
    birth_city_longitude numeric(5,2),                 --для анализа по условиям появления на свет лауреата
    birth_region character varying(100),               --для анализа по месту рождения
    birth_continent character varying(100),            --для анализа по месту рождения
    birth_country_population integer,                  --для анализа по условиям появления на свет лауреата
    birth_country_area numeric(15,2),                  --для анализа по условиям появления на свет лауреата
    birth_country_dencity numeric(9,2),                --для анализа по условиям появления на свет лауреата
    birth_country_coastline numeric(15,2),             --для анализа по условиям появления на свет лауреата
    birth_country_migration numeric(6,2),              --для анализа по условиям появления на свет лауреата
    birth_country_infant_mortality numeric(6,2),       --для анализа по условиям появления на свет лауреата
    birth_country_gdp money,                           --для анализа по условиям появления на свет лауреата
    birth_country_literacy numeric(6,2),               --для анализа по условиям появления на свет лауреата
    birth_country_phones numeric(6,2),                 --для анализа по условиям появления на свет лауреата
    birth_country_arable numeric(15,2),                --для анализа по условиям появления на свет лауреата
    birth_country_crops numeric(15,2),                 --для анализа по условиям появления на свет лауреата
    birth_country_climate numeric(2,1),                --для анализа по условиям появления на свет лауреата
    birth_country_birth_rate numeric(6,2),             --для анализа по условиям появления на свет лауреата
    birth_country_death_rate numeric(6,2),             --для анализа по условиям появления на свет лауреата
    birth_country_agriculture numeric(5,2),            --для анализа по условиям появления на свет лауреата
    birth_country_industry numeric(5,2),               --для анализа по условиям появления на свет лауреата

--Признаки для анализа условий, в которых оканчивает жизнь лауреат
    death_date date,                                   --для анализа по продолжительности жизни и определения живых лауреатов
    death_city_id integer,                             --для различения городов с одинаковым названием и быстрой группировки
    death_city character varying(1000),                --для анализа по месту окончания жизни
    death_terr character varying(100),                 --для анализа по месту окончания (для лауреатов из США - анализ штатов)
    death_country_id integer,                          --для быстрой группировки
    death_country character varying(1000),             --для анализа по месту окончания жизни
    death_city_old character varying(1000),            --для анализа по истории и политической нестабильности
    death_country_old character varying(1000),         --для анализа по истории и политической нестабильности
    death_city_population integer,                     --для анализа по условиям окончания жизни лауреата
    death_city_latitude numeric(5,2),                  --для анализа по условиям окончания жизни лауреата
    death_city_longitude numeric(5,2),                 --для анализа по условиям окончания жизни лауреата
    death_region character varying(100),               --для анализа по месту окончания жизни
    death_continent character varying(100),            --для анализа по месту окончания жизни
    death_country_population integer,                  --для анализа по условиям окончания жизни лауреата
    death_country_coastline numeric(15,2),             --для анализа по условиям окончания жизни лауреата
    death_country_gdp money,                           --для анализа по условиям окончания жизни лауреата
    death_country_climate numeric(2,1),                --для анализа по условиям окончания жизни лауреата

--Признаки для анализа условий работы, позволившей стать лауреатом
    organisation1 character varying(1000),              --для анализа по месту работы
    organisation1_city character varying(1000),         --для анализа по месту работы
    organisation1_terr character varying(100),          --для анализа по месту работы (для лауреатов из США - анализ штатов)
    organisation1_city_id integer,                      --для различения городов с одинаковым названием и быстрой группировки
    organisation1_country_id integer,                   --для быстрой группировки
    organisation1_country character varying(1000),      --для анализа по месту работы
    organisation1_old character varying(1000),          --для анализа по истории и преемственности научного учреждения
    organisation1_city_old character varying(1000),     --для анализа по истории и преемственности научного учреждения
    organisation1_country_old character varying(1000),  --для анализа по истории и преемственности научного учреждения
    organisation1_region character varying(100),        --для анализа по месту работы
    organisation1_continent character varying(100),     --для анализа по месту работы
    organisation1_city_population integer,              --для анализа по условиям работы лауреата
    organisation1_country_population integer,           --для анализа по условиям работы лауреата
    organisation1_country_gdp money,                    --для анализа по условиям работы лауреата

    organisation2 character varying(1000),              --для анализа по месту работы
    organisation2_city character varying(1000),         --для анализа по месту работы
    organisation2_terr character varying(100),          --для анализа по месту работы (для лауреатов из США - анализ штатов)
    organisation2_city_id integer,                      --для различения городов с одинаковым названием и быстрой группировки
    organisation2_country_id integer,                   --для быстрой группировки
    organisation2_country character varying(1000),      --для анализа по месту работы
    organisation2_old character varying(1000),          --для анализа по истории и преемственности научного учреждения
    organisation2_city_old character varying(1000),     --для анализа по истории и преемственности научного учреждения
    organisation2_country_old character varying(1000),  --для анализа по истории и преемственности научного учреждения
    organisation2_region character varying(100),        --для анализа по месту работы
    organisation2_continent character varying(100),     --для анализа по месту работы
    organisation2_city_population integer,              --для анализа по условиям работы лауреата
    organisation2_country_population integer,           --для анализа по условиям работы лауреата
    organisation2_country_gdp money,                    --для анализа по условиям работы лауреата

    organisation3 character varying(1000),              --для анализа по месту работы
    organisation3_city character varying(1000),         --для анализа по месту работы
    organisation3_terr character varying(100),          --для анализа по месту работы (для лауреатов из США - анализ штатов)
    organisation3_city_id integer,                      --для различения городов с одинаковым названием и быстрой группировки
    organisation3_country_id integer,                   --для быстрой группировки
    organisation3_country character varying(1000),      --для анализа по месту работы
    organisation3_old character varying(1000),          --для анализа по истории и преемственности научного учреждения
    organisation3_city_old character varying(1000),     --для анализа по истории и преемственности научного учреждения
    organisation3_country_old character varying(1000),  --для анализа по истории и преемственности научного учреждения
    organisation3_region character varying(100),        --для анализа по месту работы
    organisation3_continent character varying(100),     --для анализа по месту работы
    organisation3_city_population integer,              --для анализа по условиям работы лауреата
    organisation3_country_population integer,           --для анализа по условиям работы лауреата
    organisation3_country_gdp money,                    --для анализа по условиям работы лауреата
    
)

